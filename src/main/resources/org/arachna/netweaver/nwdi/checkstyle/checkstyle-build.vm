<?xml version="1.0" encoding="UTF-8"?>
<project name="checkstyle-project" default="checkstyle">
  <path id="classpath">
  #foreach($path in $classpaths)
  <fileset dir="$path">
      <include name="**/*.jar" />
    </fileset>
  #end
</path>

  <target name="checkstyle">
    <echo>Running checkstyle on $vendor~$component.</echo>
    <checkstyle config="$checkstyleconfig" failOnViolation="false" classpathref="classpath">
      <formatter type="xml" toFile="$componentBase/gen/default/logs/checkstyle-result.xml" />
      #foreach ($path in $sourcePaths)
      <fileset dir="$path">
        <include name="**/*.java" />
        #foreach ($exclude in $excludes)
        <exclude name="$exclude" />
        #end
    </fileset>
      #end
    </checkstyle>
  </target>
</project>